<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bacsi/Dieiduong</title>
    <link rel="stylesheet" href="/css/datlee/ttdk.css">
    <link rel="stylesheet" href="../../fontawesome-free-6.4.2-web/css/all.min.css">
    <link rel="shortcut icon" type="image/png" href="../../upload/image/homepage/logo-min.png" />
    <style>
        
    </style>
</head>

<body>
    <div class="header">
        <div class="logo">
            <img src="../../upload/image/homepage/logo.jpg" alt="">
        </div>
        <div class="nav-header">
            <ul>
                <li><a href="../../html/Nhuan/Homepage.html">
                        <i class="fa-solid fa-house fa-lg"></i> Trang chủ
                    </a></li>
                <li><a href="">
                        <i class="fa-regular fa-bell fa-lg"></i> Thông báo
                    </a></li>
                <li class="user-account"><a href="">
                        <img src="../../upload/image/homepage-staff/avater-user.jpg" alt=""> Lê Thành Đạt <i
                            class="fa-solid fa-caret-down"></i>
                    </a></li>
            </ul>
        </div>
    </div>
    <div class="container">
        <div class="nav">
            <ul>
                <li><a href="../../html/Nhuan/Homepage.html"><i class="fa-solid fa-house fa-lg"></i>Trang chủ</a></li>
                <li><a href="#"><i class="fa-solid fa-calendar-days fa-lg"></i></a></li>
                <li><a href="#"><i class="fa-regular fa-calendar-days fa-lg"></i></a></li>
                <li><a href="#"><i class="fa-solid fa-book-medical fa-lg"></i></a></li>
                <li><a href="#"><i class="fa-solid fa-pen-to-square fa-lg"></i></a></li>
            </ul>
        </div>
        <div class="content">
            <div class="body">
                <div class="container_DK">
                    <div class="blue">
                        <div class="yasuo">
                            <h1>Đăng ký khám bệnh</h1>
                        </div>
                        <form id="registration-form" onsubmit="submitForm(event)">
                            <div class="form-group">
                                <label for="sdt">SDT</label>
                                <input type="text" id="sdt" name="SDT" value="0787750973" onblur="validateSDT()">
                            </div>
                            <span class="error" id="error-sdt">SDT phải theo dạng 07 hoặc 03 xxxxxxxx.</span>

                            <div class="form-group">
                                <label for="ten">Tên</label>
                                <input type="text" id="ten" name="Tên" disabled onblur="validateName()">
                            </div>
                            <span class="error" id="error-ten">Tên phải là dạng chữ.</span>

                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="Email" disabled onblur="validateEmail()">
                            </div>
                            <span class="error" id="error-email">Email phải có dạng @gmail.com.</span>

                            <div class="form-group">
                                <label for="ngaysinh">Ngày sinh</label>
                                <input type="date" id="ngaysinh" name="Ngày Sinh" disabled onblur="validateBirthday()">
                            </div>
                            <span class="error" id="error-ngaysinh">Vui lòng nhập ngày sinh.</span>

                            <div class="form-group">
                                <label for="gioitinh">Giới tính</label>
                                <select id="gioitinh" name="Giới tính" disabled onchange="validateGender()">
                                    <option value="">Chọn giới tính</option>
                                    <option value="Nam">Nam</option>
                                    <option value="Nữ">Nữ</option>
                                    <option value="Khác">Khác</option>
                                </select>
                            </div>
                            <span class="error" id="error-gioitinh">Vui lòng chọn giới tính.</span>

                            <div class="form-group">
                                <label for="cccd">CCCD</label>
                                <input type="text" id="cccd" name="CCCD" disabled onblur="validateCCCD()">
                            </div>
                            <span class="error" id="error-cccd">CCCD phải là số.</span>

                            <div class="form-group">
                                <label for="bhyt">BHYT</label>
                                <input type="text" id="bhyt" name="BHYT" value="0" disabled onblur="validateBHYT()">
                            </div>
                            <span class="error" id="error-bhyt">BHYT phải là số.</span>

                            <div class="form-group">
                                <label for="chuyenkhoa">Chuyên khoa</label>
                                <select id="chuyenkhoa" name="Chuyên khoa" disabled onchange="validateSpecialty()">
                                    <option value="">Chọn chuyên khoa</option>
                                    <option value="Tai Mũi Họng">Tai Mũi Họng</option>
                                </select>
                            </div>
                            <span class="error" id="error-chuyenkhoa">Vui lòng chọn chuyên khoa.</span>

                            <div class="form-group">
                                <label for="bacsi">Bác sĩ</label>
                                <select id="bacsi" name="Bác sĩ" disabled onchange="validateDoctor()">
                                    <option value="">Chọn bác sĩ</option>
                                    <option value="Lê Thành Đạt">Lê Thành Đạt</option>
                                </select>
                            </div>
                            <span class="error" id="error-bacsi">Vui lòng chọn bác sĩ.</span>

                            <div class="form-group">
                                <label for="ngaykham">Ngày khám</label>
                                <select id="ngaykham" name="Ngày Khám" disabled onchange="validateAppointmentDate()">
                                    <option value="">Chọn ngày khám</option>
                                    <option value="30/11/2024">30/11/2024</option>
                                </select>
                            </div>
                            <span class="error" id="error-ngaykham">Vui lòng chọn ngày khám.</span>

                            <div class="button-container">
                                <button type="submit" class="button">Đăng ký</button>
                            </div>
                        </form>
                        <div class="success" id="success-message">Đăng ký thành công!</div> <!-- Thông báo thành công -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function validateSDT() {
            const sdt = document.getElementById('sdt').value;
            const error = document.getElementById('error-sdt');
            const regex = /^(03|07)\d{8}$/;
            if (regex.test(sdt)) {
                error.style.display = 'none';
                document.getElementById('ten').disabled = false; // Cho phép nhập Tên
                document.getElementById('ten').focus(); // Đưa con trỏ đến Tên
            } else {
                error.style.display = 'block';
                document.getElementById('ten').disabled = true;
            }
        }

        function validateName() {
            const name = document.getElementById('ten').value;
            const error = document.getElementById('error-ten');
            const regex = /^[\p{L}\s]+$/u; // Kiểm tra tên có dấu và có dấu cách
            if (regex.test(name)) {
                error.style.display = 'none';
                document.getElementById('email').disabled = false; // Cho phép nhập Email
                document.getElementById('email').focus(); // Đưa con trỏ đến Email
            } else {
                error.style.display = 'block';
                document.getElementById('email').disabled = true;
            }
        }

        function validateEmail() {
            const email = document.getElementById('email').value;
            const error = document.getElementById('error-email');
            const regex = /^[A-Za-z0-9._%+-]+@gmail\.com$/; // Kiểm tra email @gmail.com
            if (regex.test(email)) {
                error.style.display = 'none';
                document.getElementById('ngaysinh').disabled = false; // Cho phép nhập Ngày sinh
                document.getElementById('ngaysinh').focus(); // Đưa con trỏ đến Ngày sinh
            } else {
                error.style.display = 'block';
                document.getElementById('ngaysinh').disabled = true;
            }
        }

        function validateBirthday() {
            const birthday = document.getElementById('ngaysinh').value;
            const error = document.getElementById('error-ngaysinh');
            if (birthday) {
                error.style.display = 'none';
                document.getElementById('gioitinh').disabled = false; // Cho phép chọn Giới tính
                document.getElementById('gioitinh').focus(); // Đưa con trỏ đến Giới tính
            } else {
                error.style.display = 'block';
                document.getElementById('gioitinh').disabled = true;
            }
        }

        function validateGender() {
            const gender = document.getElementById('gioitinh').value;
            const error = document.getElementById('error-gioitinh');
            if (gender) {
                error.style.display = 'none';
                document.getElementById('cccd').disabled = false; // Cho phép nhập CCCD
                document.getElementById('cccd').focus(); // Đưa con trỏ đến CCCD
            } else {
                error.style.display = 'block';
                document.getElementById('cccd').disabled = true;
            }
        }

        function validateCCCD() {
            const cccd = document.getElementById('cccd').value;
            const error = document.getElementById('error-cccd');
            const regex = /^\d+$/; // Kiểm tra CCCD là số
            if (regex.test(cccd)) {
                error.style.display = 'none';
                document.getElementById('bhyt').disabled = false; // Cho phép nhập BHYT
                document.getElementById('bhyt').focus(); // Đưa con trỏ đến BHYT
            } else {
                error.style.display = 'block';
                document.getElementById('bhyt').disabled = true;
            }
        }

        function validateBHYT() {
            const bhyt = document.getElementById('bhyt').value;
            const error = document.getElementById('error-bhyt');
            const regex = /^\d+$/; // Kiểm tra BHYT là số
            if (regex.test(bhyt)) {
                error.style.display = 'none';
                document.getElementById('chuyenkhoa').disabled = false; // Cho phép chọn Chuyên khoa
                document.getElementById('chuyenkhoa').focus(); // Đưa con trỏ đến Chuyên khoa
            } else {
                error.style.display = 'block';
                document.getElementById('chuyenkhoa').disabled = true;
            }
        }

        function validateSpecialty() {
            const specialty = document.getElementById('chuyenkhoa').value;
            const error = document.getElementById('error-chuyenkhoa');
            if (specialty) {
                error.style.display = 'none';
                document.getElementById('bacsi').disabled = false; // Cho phép chọn Bác sĩ
                document.getElementById('bacsi').focus(); // Đưa con trỏ đến Bác sĩ
            } else {
                error.style.display = 'block';
                document.getElementById('bacsi').disabled = true;
            }
        }

        function validateDoctor() {
            const doctor = document.getElementById('bacsi').value;
            const error = document.getElementById('error-bacsi');
            if (doctor) {
                error.style.display = 'none';
                document.getElementById('ngaykham').disabled = false; // Cho phép chọn Ngày khám
                document.getElementById('ngaykham').focus(); // Đưa con trỏ đến Ngày khám
            } else {
                error.style.display = 'block';
                document.getElementById('ngaykham').disabled = true;
            }
        }

        function validateAppointmentDate() {
            const appointmentDate = document.getElementById('ngaykham').value;
            const error = document.getElementById('error-ngaykham');
            if (appointmentDate) {
                error.style.display = 'none';
            } else {
                error.style.display = 'block';
            }
        }

        function submitForm(event) {
            event.preventDefault(); // Ngăn chặn gửi biểu mẫu

            // Kiểm tra tất cả các trường
            const errors = [
                document.getElementById('error-sdt').style.display,
                document.getElementById('error-ten').style.display,
                document.getElementById('error-email').style.display,
                document.getElementById('error-ngaysinh').style.display,
                document.getElementById('error-gioitinh').style.display,
                document.getElementById('error-cccd').style.display,
                document.getElementById('error-bhyt').style.display,
                document.getElementById('error-chuyenkhoa').style.display,
                document.getElementById('error-bacsi').style.display,
                document.getElementById('error-ngaykham').style.display
            ];

            if (errors.every(error => error === 'none')) {
                // Tất cả các trường đều hợp lệ
                document.getElementById('success-message').style.display = 'block'; // Hiển thị thông báo thành công
            } else {
                document.getElementById('success-message').style.display = 'none'; // Ẩn thông báo nếu có lỗi
            }
        }
    </script>
</body>

</html>
